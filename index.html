<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>AR con Three.js</title>
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
      canvas {
        width: 100vw;
        height: 100vh;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
      // Inicializa la escena de three.js
      const scene = new THREE.Scene();

      // Crea un canvas para renderizar la escena
      const canvas = document.getElementById('canvas');
      const renderer = new THREE.WebGLRenderer({ canvas });

      // Usa la API de getUserMedia para obtener la imagen de la webcam
      navigator.mediaDevices.getUserMedia({ video: true })
        .then(function(stream) {
          // Crea un objeto de c치mara
          const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

          // Configura la posici칩n y orientaci칩n de la c치mara para que coincida con la webcam
          const video = document.createElement('video');
          video.srcObject = stream;
          video.play();
          const texture = new THREE.VideoTexture(video);
          camera.position.z = 5;
          camera.rotation.y = Math.PI;

          // Crea un objeto de plano y aplica la textura de la webcam
          const geometry = new THREE.PlaneGeometry(10, 10, 1);
          const material = new THREE.MeshBasicMaterial({ map: texture });
          const plane = new THREE.Mesh(geometry, material);

          // Agrega el objeto de plano a la escena
          scene.add(plane);

          // Renderiza la escena en el canvas
          renderer.render(scene, camera);
        })
        .catch(function(error) {
          console.log(error);
        });
    </script>
  </body>
</html>
